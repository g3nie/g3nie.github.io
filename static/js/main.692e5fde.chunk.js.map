{"version":3,"sources":["actions/index.js","reducers/user.js","reducers/modal.js","constants/index.js","reducers/kanjiMastery.js","reducers/kanjiSetting.js","reducers/index.js","components/top-nav/TopNav.jsx","components/top-nav/index.js","utils/index.js","components/kanji-grid/Kanji.jsx","components/kanji-grid/KanjisContainer.jsx","components/kanji-grid/index.js","components/current-stats/CurrentStats.jsx","components/current-stats/index.js","components/change-level/ChangeLevel.jsx","components/change-level/index.js","components/modals/Modal.jsx","components/modals/Settings.jsx","components/modals/RadioOptions.jsx","components/modals/KanjiModal.jsx","components/modals/index.js","components/index.js","theme/index.js","utils/KanjiMasteryManager.js","utils/StoreManager.js","App.js","serviceWorker.js","index.js"],"names":["UPDATE_KANJI_ORDER","UPDATE_KANJI_GROUP","UPDATE_KANJI_LEVEL","TAP_SEEN","TAP_MASTERED","ADD_MODAL","POP_MODAL","SAVE_NOTES","lastUpdated","actionObject","Object","assign","timestamp","Date","now","changeKanjiOrdering","order","type","changeKanjiGrouping","group","changeKanjiLevel","level","createModalObject","modalType","extraProps","arguments","length","undefined","addModal","modal","popModal","userDefaultState","isLoggedIn","modalDefaultState","modalList","MODAL_TYPES","SETTINGS","RADIO_OPTIONS","KANJI_MODAL","KANJI_BOX_SIZE","KANJI_BOX_MULTIPLIER","NO_MASTERY","SEEN","MASTERED","CHOICES","JLPT1","value","label","next","prev","JLPT2","JLPT3","JLPT4","GRADE1","GRADE2","GRADE3","GRADE4","GRADE5","GRADE6","SHOW_ALL","KANJI_ORDERS","STROKE_COUNT","kanjiField","RTK","KANJI_GROUPS","JLPT","choices","defaultLevel","description","GRADE","kanjiMasteryDefaultState","mastery","notes","kanjiSettingDefaultState","theme","combineReducers","user","state","action","toConsumableArray","every","existingModal","push","addModalInternal","pop","kanjiMastery","untapping","kanji","defineProperty","kanjiNotes","kanjiSetting","newState","lastAction","Container","styled","div","_templateObject","NavContents","_templateObject2","LogoContainer","_templateObject3","SettingsContainer","_templateObject4","SettingsButton","button","_templateObject5","TopNav","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","showSettings","react_default","a","createElement","onClick","index_es","icon","size","Component","connect","currentGroup","currentOrder","dispatch","onKanjiGroupingChange","onKanjiOrderingChange","getKanjiTotal","kanjiData","grouping","total","_arr","entries","_i","_ref3","_ref2","slicedToArray","MASTERY_COLOR","_MASTERY_COLOR","KanjiContainer","Kanji_templateObject","masteryColor","Kanji","_ref","key","data-id","data-kanji","KanjisContainer_templateObject","maxHeight","base","kanjiContainerBackground","columnSize","borderColor","KanjisContainer","width","height","updateWindowDimensions","debounce","setState","window","innerWidth","innerHeight","determineRowSize","parseInt","determineMaxHeight","renderKanji","id","kanji_grid_Kanji","kanjiOnClick","event","target","dataset","kanjiId","objectSpread","secondaryKanjiFilter","addEventListener","removeEventListener","obj","subkey","_this$props","currentLevel","customSorter","k1","k2","secondaryFilter","filterFunc","func","filterFuncFromObj","kanjisToDisplay","keys","filter","sort","map","KanjisContainer_Container","CurrentStats_templateObject","ContainerItem","CurrentStats_templateObject2","flexGrow","StatBar","CurrentStats_templateObject3","color","StatBarInner","CurrentStats_templateObject4","fillPtg","ChangeLevel","renderMasteryBars","currentLevelFieldValue","totalKanji","totalSeen","totalMastered","totalSeenPtg","totalMasteredPtg","bars","renderBar","barFillPtg","console","log","Fragment","CurrentStats_Container","CurrentStats","ChangeLevel_templateObject","ChangeLevel_templateObject2","flexOrder","onArrowClick","left","onKanjiLevelChange","newLevelKey","renderArrow","symbol","ChangeLevel_ContainerItem","ChangeLevel_Container","ModalContainer","Modal_templateObject","ModalBackground","Modal_templateObject2","modalBackground","ModalContent","Modal_templateObject3","modalContentBackground","ModalContentContainer","Modal_templateObject4","ModalContentRow","Modal_templateObject5","Modal","popModalOnEsc","keyCode","document","children","Settings","onChangeFactory","lookup","optionCallback","renderKanjiOrdering","renderOptionSettings","onChangeCallback","options","renderKanjiGrouping","_this$props2","renderKanjiLevel","_this$props3","currentLevelLabel","renderTheming","className","title","descriptionRow","modals_Modal","RadioOptions","renderOptions","listElements","_loop","listElement","concat","onChange","htmlFor","optionComponents","KanjiContentContainer","KanjiModal_templateObject","KanjiRow","KanjiModal_templateObject2","KanjiDisplay","KanjiModal_templateObject3","KanjiOptionRow","KanjiModal_templateObject4","OptionRow","KanjiModal_templateObject5","OptionContent","_templateObject6","LabelContainer","_templateObject7","Label","span","_templateObject8","NotesContainer","_templateObject9","NotesTextArea","textarea","_templateObject10","KanjiModal","notesOpen","tapAndExitModal","toggleTextArea","updateNotes","updateNotesInternal","saveNotes","renderSeen","tapSeenAndExit","tapSeen","renderMastered","tapMasteredAndExit","tapMastered","renderInfo","renderNotes","renderNotesTextArea","_this$state","placeholder","_modalList","SpecificModal","components_templateObject","textFont","background","gradientDark","gradientLight","AppContainer","components_Container","top_nav","current_stats","kanji_grid","change_level","modals","inputBarBackground","_masteryColor","dark","backgroundColor","_masteryColor2","MASTERY_ACTIONS","LocalStorage","storage","isSupported","testKey","setItem","removeItem","e","getItem","name","clear","index","StoreManager","localStorage","getFromLocalStorage","cachedData","JSON","parse","error","KanjiMasteryManager","notesData","masteryData","includes","stringify","library","add","faCog","faChevronLeft","faChevronRight","store","createStore","mainReducer","subscribe","_store$getState","getState","App","es","styled_components_browser_esm","themes","components","Boolean","location","hostname","match","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.692e5fde.chunk.js","sourcesContent":["// DEFAULT FEATURES\nexport const RECEIVE_ERROR = 'RECEIVER_ERROR_FROM_BACKEND';\nexport const UPDATE_KANJI_ORDER = 'TOGGLE_KANJI_ORDERING';\nexport const UPDATE_KANJI_GROUP = 'UPDATE_KANJI_GROUPING';\nexport const UPDATE_KANJI_LEVEL = 'UPDATE_KANJI_LEVEL';\nexport const TAP_SEEN = 'TAP_SEEN_ON_KANJI';\nexport const TAP_MASTERED = 'TAP_MASTERED_ON_KANJI';\nexport const TAP_INFO = 'SEE_MORE_INFO_ON_KANJI';\nexport const ADD_MODAL = 'ADD_A_NEW_DIALOG';\nexport const POP_MODAL = 'POP_OLD_DIALOG_OFF';\nexport const SAVE_NOTES = 'SAVE_KANJI_NOTES';\n// FUTURE FEATURES //\nexport const LOG_IN = 'USER_LOGGED_IN';\nexport const LOG_OUT = 'USER_LOGGED_OUT';\nexport const CHANGE_THEME = 'CHANGE_BETWEEN_DIFFERENT_THEMES';\nexport const RESET_ALL_PROGRESS = 'RESET_ALL_PROGRESS';\n// FUTURE FEATURES //\n\nfunction lastUpdated(actionObject) {\n  return Object.assign(actionObject, { timestamp: Date.now() });\n}\n\nexport function tapSeen(kanji) {\n  return lastUpdated({\n    kanji,\n    type: TAP_SEEN,\n  });\n}\n\nexport function tapMastered(kanji) {\n  return lastUpdated({\n    kanji,\n    type: TAP_MASTERED,\n  });\n}\n\nexport function saveNotes(kanji, notes) {\n  return lastUpdated({\n    notes,\n    kanji,\n    type: SAVE_NOTES,\n  });\n}\n\nexport function changeKanjiOrdering(order) {\n  return {\n    order,\n    type: UPDATE_KANJI_ORDER,\n  };\n}\n\nexport function changeKanjiGrouping(group) {\n  return {\n    group,\n    type: UPDATE_KANJI_GROUP,\n  };\n}\n\nexport function changeKanjiLevel(level) {\n  return {\n    level,\n    type: UPDATE_KANJI_LEVEL,\n  };\n}\n\nfunction createModalObject(modalType, extraProps={}) {\n  return {modalType, extraProps};\n}\n\nexport function addModal(modalType, extraProps) {\n  return {\n    modal: createModalObject(modalType, extraProps),\n    type: ADD_MODAL,\n  };\n}\n\nexport function popModal() {\n  return {\n    type: POP_MODAL,\n  };\n}\n","import { LOG_IN, LOG_OUT } from '../actions';\n\nconst userDefaultState = {\n  isLoggedIn: false,\n};\n\nexport default (state = userDefaultState, action) => {\n  if (typeof state === 'undefined') return userDefaultState;\n\n  switch (action.type) {\n    case LOG_IN:\n      return Object.assign({}, state, { isLoggedIn: true });\n    case LOG_OUT:\n      return Object.assign({}, state, { isLoggedIn: false });\n    default:\n      break;\n  }\n  return state;\n};\n","import {\n  ADD_MODAL,\n  POP_MODAL,\n} from '../actions';\n\n// NOTE: Prevents adding another of the same modal type\nconst addModalInternal = (modalList, modal) => {\n  if (modalList.every(existingModal => modal.modalType !== existingModal.modalType)) {\n    modalList.push(modal);\n  }\n};\n\nconst modalDefaultState = {\n  modalList: [],\n};\n\nexport default (state = modalDefaultState, action) => {\n  if (typeof state === 'undefined') return modalDefaultState;\n  const modalList = [...state.modalList];\n\n  switch (action.type) {\n    case ADD_MODAL:\n      addModalInternal(modalList, action.modal);\n      break;\n    case POP_MODAL:\n      modalList.pop();\n      break;\n    default:\n      break;\n  }\n  return { modalList };\n};\n","export const MODAL_TYPES = {\n  SETTINGS: 'SETTINGS',\n  RADIO_OPTIONS: 'RADIO_OPTIONS',\n  KANJI_MODAL: 'KANJI_MODAL',\n};\n\nexport const KANJI_BOX_SIZE = 34;\nexport const KANJI_BOX_MULTIPLIER = 1.5;\n\n// TODO: combine as one mastery level const\nexport const NO_MASTERY = -1;\nexport const SEEN = 1;\nexport const MASTERED = 2;\n\n// Special value to show all level\nexport const CHOICES = {\n  JLPT1: {\n    value: 1,\n    label: 'JLPT 1',\n    next: 'JLPT2',\n    prev: 'JLPT4',\n  },\n  JLPT2: {\n    value: 2,\n    label: 'JLPT 2',\n    next: 'JLPT3',\n    prev: 'JLPT1',\n  },\n  JLPT3: {\n    value: 3,\n    label: 'JLPT 3',\n    next: 'JLPT4',\n    prev: 'JLPT2',\n  },\n  JLPT4: {\n    value: 4,\n    label: 'JLPT 4',\n    next: 'JLPT1',\n    prev: 'JLPT3',\n  },\n  GRADE1: {\n    value: 1,\n    label: 'Grade 1',\n    next: 'GRADE2',\n    prev: 'GRADE6',\n  },\n  GRADE2: {\n    value: 2,\n    label: 'Grade 2',\n    next: 'GRADE3',\n    prev: 'GRADE1',\n  },\n  GRADE3: {\n    value: 3,\n    label: 'Grade 3',\n    next: 'GRADE4',\n    prev: 'GRADE2',\n  },\n  GRADE4: {\n    value: 4,\n    label: 'Grade 4',\n    next: 'GRADE5',\n    prev: 'GRADE3',\n  },\n  GRADE5: {\n    value: 5,\n    label: 'Grade 5',\n    next: 'GRADE6',\n    prev: 'GRADE4',\n  },\n  GRADE6: {\n    value: 6,\n    label: 'Grade 6',\n    next: 'GRADE1',\n    prev: 'GRADE5',\n  },\n  SHOW_ALL: {\n    value: -1,\n    label: 'Show all level',\n  }\n};\n\nexport const KANJI_ORDERS = {\n  STROKE_COUNT: {\n    label: 'Stroke count',\n    kanjiField: 'sc',\n  },\n  RTK: {\n    label: 'Heisig/RTK',\n    kanjiField: 'hs',\n  },\n};\n\n/*\n * Master kanji object looks like this:\n * // {\n * //   key1: {\n * //     subkey1: val1,\n * //     subkey2: val2,\n * //   },\n * //   key2: {\n * //     subkey1: val3,\n * //     subkey2: val4,\n * //     subkey3: val5,\n * //   }, ...\n * // }\n */\nexport const KANJI_GROUPS = {\n  JLPT: {\n    label: 'JLPT',\n    kanjiField: 'j',\n    choices: [\n      CHOICES.JLPT1,\n      CHOICES.JLPT2,\n      CHOICES.JLPT3,\n      CHOICES.JLPT4,\n      CHOICES.SHOW_ALL,\n    ],\n    defaultLevel: CHOICES.JLPT4,\n    description: 'Grouped by JLPT levels',\n  },\n  GRADE: {\n    label: 'Grade-school',\n    kanjiField: 'g',\n    choices: [\n      CHOICES.GRADE1,\n      CHOICES.GRADE2,\n      CHOICES.GRADE3,\n      CHOICES.GRADE4,\n      CHOICES.GRADE5,\n      CHOICES.GRADE6,\n      CHOICES.SHOW_ALL,\n    ],\n    defaultLevel: CHOICES.GRADE1,\n    description: 'Grouped by grade year they appear',\n  },\n};\n\nexport const AVAILABLE_THEMES = {\n  BASE: 'base',\n  DARK: 'dark',\n};\n\nexport const LOCAL_STORAGE_CACHE_KEY = 'kan:mastery';\nexport const LOCAL_STORAGE_NOTES_KEY = 'kan:notes';\n","import {\n  TAP_SEEN,\n  TAP_MASTERED,\n  SAVE_NOTES,\n} from '../actions';\nimport { SEEN, MASTERED } from '../constants';\n\nconst kanjiMasteryDefaultState = {\n  /**\n   * mastery = {\n   *  id1: SEEN,\n   *  id2: MASTERED,\n   *  ...\n   * }\n   */\n  mastery: {},\n  notes: {},\n};\n\n// TODO: create a unified kanji system\nconst createKanjiObjects = (mastery, notes, timestamp) => {\n\n};\n\n/**\n * Return the correct branch\n */\nexport default (state = kanjiMasteryDefaultState, action) => {\n  if (typeof state === 'undefined') return kanjiMasteryDefaultState;\n  let { mastery, notes } = state;\n  let untapping = false;\n  switch (action.type) {\n    case TAP_SEEN:\n      untapping = mastery[action.kanji] === SEEN;\n      mastery = Object.assign({}, mastery, { [action.kanji]: SEEN });\n      if (untapping) delete mastery[action.kanji];\n      break;\n    case TAP_MASTERED:\n      untapping = mastery[action.kanji] === MASTERED;\n      mastery = Object.assign({}, mastery, { [action.kanji]: MASTERED });\n      if (untapping) delete mastery[action.kanji];\n      break;\n    case SAVE_NOTES:\n      const kanjiNotes = action.notes;\n      notes = Object.assign({}, notes, { [action.kanji]: kanjiNotes });\n      break;\n    default:\n      break;\n  }\n  return { mastery, notes };\n};\n","import {\n  UPDATE_KANJI_ORDER,\n  UPDATE_KANJI_GROUP,\n  UPDATE_KANJI_LEVEL,\n} from '../actions';\nimport { KANJI_ORDERS, KANJI_GROUPS, AVAILABLE_THEMES } from '../constants';\n\nconst kanjiSettingDefaultState = {\n  order: KANJI_ORDERS.RTK,\n  group: KANJI_GROUPS.GRADE,\n  level: KANJI_GROUPS.GRADE.defaultLevel,\n  theme: AVAILABLE_THEMES.BASE,\n};\n\nexport default (state = kanjiSettingDefaultState, action) => {\n  if (typeof state === 'undefined') return kanjiSettingDefaultState;\n  let newState = state;\n  switch (action.type) {\n    case UPDATE_KANJI_ORDER:\n      newState = Object.assign({}, newState, { order: action.order });\n      break;\n    // Updating kanji group should reset the level automatically.\n    case UPDATE_KANJI_GROUP:\n      newState = Object.assign({}, newState, { group: action.group });\n    case UPDATE_KANJI_LEVEL:\n      newState = Object.assign({}, newState, { level: action.level || action.group.defaultLevel });\n      break;\n    default:\n      break;\n  }\n  return newState;\n};\n","import { combineReducers } from 'redux';\nimport user from './user';\nimport modal from './modal';\nimport kanjiMastery from './kanjiMastery';\nimport kanjiSetting from './kanjiSetting';\n\nfunction lastAction(state = null, action) {\n  return action;\n}\n\nexport default combineReducers({\n  user,\n  modal,\n  kanjiMastery,\n  kanjiSetting,\n  lastAction,\n});\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { MODAL_TYPES } from '../../constants';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nconst Container = styled.div`\n  width: 100%;\n  padding: 36px 0 18px 0;\n`;\n\nconst NavContents = styled.div`\n  margin: 0 auto;\n  width: 100%;\n  display: flex;\n`;\n\nconst LogoContainer = styled.div`\n  font-size: 36px;\n  font-weight: 700;\n  margin-left: 36px;\n  align-self: flex-start;\n  flex: 3;\n`;\n\nconst SettingsContainer = styled.div`\n  margin-right: 36px;\n  align-self: flex-end;\n  flex: 1;\n  display: flex;\n  flex-direction: row-reverse;\n`;\n\nconst SettingsButton = styled.button`\n  padding: 0;\n  border: none;\n  background: none;\n`;\n\n/*\n * When push we add new content to the modalContent\n * Modal detects change and will activate, so actually modal lives on the base app.\n */\n\nclass TopNav extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  // TODO: make global settings shown state\n  showSettings = () => {\n    this.props.addModal(MODAL_TYPES.SETTINGS, {});\n  }\n\n  render() {\n    return (\n      <Container>\n        <NavContents>\n          <LogoContainer><strong>感字</strong></LogoContainer>\n          <SettingsContainer>\n            <SettingsButton onClick={this.showSettings}>\n              <FontAwesomeIcon\n                icon=\"cog\"\n                size=\"2x\"\n              />\n            </SettingsButton>\n          </SettingsContainer>\n        </NavContents>\n      </Container>\n    );\n  }\n}\n\nexport default TopNav;\n","import { connect } from 'react-redux';\nimport {\n  changeKanjiOrdering,\n  changeKanjiGrouping,\n  addModal,\n} from '../../actions';\nimport TopNav from './TopNav';\n\n/*\n * NOTE: Passes onchange to search input. To be index.js\n * What can this container do?\n * - Talk to central store for recently changed values, get auto suggestions\n * - Provide an onchange\n * - Save UI states in regards to input bar (currently searching or something)\n */\n\nconst mapStateToProps = state => ({\n  currentGroup: state.kanjiSetting.group,\n  currentOrder: state.kanjiSetting.order,\n  isLoggedIn: state.user.isLoggedIn,\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addModal: (modalType, extraProps) => dispatch(addModal(modalType, extraProps)),\n    onKanjiGroupingChange: group => dispatch(changeKanjiGrouping(group)),\n    onKanjiOrderingChange: order => dispatch(changeKanjiOrdering(order)),\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(TopNav);\n","/*\n * Kanji starter object:\n * { k1: {s1: 1, s2: 2}, k2: ...}\n */\nexport const sortByKeyInsideObj = (obj, subkey) => {\n  return (k1, k2) => {\n    if (obj[k1][subkey] < obj[k2][subkey]) return -1;\n    if (obj[k1][subkey] > obj[k2][subkey]) return 1;\n    return 0;\n  };\n};\n\n/*\n * Iterate through array, increments at a time.\n */\nexport const makeArrayGenerator = function* (array, increment) {\n  let counter = 0;\n  while (counter < array.length) {\n    yield array.slice(counter, counter + increment);\n    counter = counter + increment;\n  }\n};\n\n/*\n * Filter out from master object.\n */\nexport const filterFuncFromObj = (obj, subkey, func) => key => func(obj[key][subkey]);\n\n/**\n * Calculate fullness.\n */\nexport const calculateFullness = () => null;\n\n/**\n * Get total number of kanji.\n */\nexport const getKanjiTotal = (kanjiData, grouping, currentGroup) => {\n  let total = 0;\n  for (const [key, value] of Object.entries(kanjiData)) {\n    if (value[grouping] === currentGroup) {\n      total = total + 1;\n    }\n  }\n  return total;\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { NO_MASTERY, SEEN, MASTERED } from '../../constants';\n\nexport const MASTERY_COLOR = {\n  [NO_MASTERY]: null,\n  [SEEN]: '#fa9c4f',\n  [MASTERED]: '#2cb8e0',\n};\n\nconst KanjiContainer = styled.div`\n  margin: 2px;\n  padding: 5px;\n  background: ${props => props.masteryColor};\n  border-radius: 5px;\n`;\n\nconst Kanji = ({ kanji, value, mastery }) => {\n  return (\n    <KanjiContainer\n      key={value}\n      data-id={value}\n      data-kanji={kanji}\n      masteryColor={MASTERY_COLOR[mastery]}>\n      {kanji}\n    </KanjiContainer>\n  );\n};\n\nKanji.propTypes = {\n  kanji: PropTypes.string,\n  id: PropTypes.number,\n  mastery: PropTypes.number,\n}\n\nexport default Kanji;\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\n// TODO: this should be lazy loaded\nimport kanjiData from '../../data/starter_kanji_data.json';\nimport {\n  sortByKeyInsideObj,\n  filterFuncFromObj,\n} from '../../utils';\nimport Kanji from './Kanji';\nimport {\n  MODAL_TYPES,\n  CHOICES,\n  NO_MASTERY,\n  KANJI_BOX_SIZE,\n  KANJI_BOX_MULTIPLIER\n} from '../../constants';\nimport debounce from 'lodash/debounce';\n\n/**\n * Look at ゴーシャO and U, pretty cool font. Or Gosha OS\n */\nconst Container = styled.div`\n  width: calc(100% - 72px);\n  height: auto;\n  max-height: ${props => props.maxHeight || 300}px;\n  overflow: scroll;\n  padding: 10px;\n  margin: 26px;\n  border-radius: 10px;\n  background: ${props => props.theme.base.kanjiContainerBackground};\n  display: grid;\n  text-align: center;\n  justify-content: space-evenly;\n  grid-template-columns: repeat(${props => props.columnSize || 8}, 1fr);\n  border: 1px solid ${props => props.theme.base.borderColor};\n`;\n\n/*\n * NOTE: This component should be the one outputing the different kanji containers.\n * Look into requestAnimationFrame vs debounce\n */\nclass KanjisContainer extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  state = {\n    width: 0,\n    height: 0,\n  };\n\n  componentDidMount() {\n    // Move to top level component\n    this.updateWindowDimensions();\n    window.addEventListener('resize', this.updateWindowDimensions);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateWindowDimensions);\n  }\n\n  // We need this to trigger rerender\n  updateWindowDimensions = debounce(() => {\n    this.setState({\n      width: window.innerWidth,\n      height: window.innerHeight,\n    })\n  }, 88);\n\n  determineRowSize = () => {\n    return parseInt(window.innerWidth / (KANJI_BOX_SIZE * KANJI_BOX_MULTIPLIER));\n  }\n\n  determineMaxHeight = () => {\n    return 0.42 * window.innerHeight;\n  }\n\n  renderKanji = key => {\n    const id = kanjiData[key].id;\n    const mastery = this.props.mastery[key] || NO_MASTERY;\n    return (\n      <Kanji\n        key={id}\n        kanji={key}\n        value={id}\n        mastery={mastery}\n      />\n    );\n  }\n\n  kanjiOnClick = event => {\n    if (!event.target ||\n      !event.target.dataset ||\n      !event.target.dataset.kanji ||\n      !event.target.dataset.id) return;\n    const kanjiId = event.target.dataset.id;\n    const notes = this.props.notes[kanjiId];\n    this.props.addModal(MODAL_TYPES.KANJI_MODAL, { ...event.target.dataset, notes });\n  }\n\n  secondaryKanjiFilter = level => value => {\n    if (!level || level === CHOICES.SHOW_ALL.value) return true;\n    return value === level;\n  }\n\n  render() {\n    // Event handler on the kanji container, not individual kanji\n    const { currentGroup, currentOrder, currentLevel } = this.props;\n    const { kanjiField, defaultLevel } = currentGroup;\n    const customSorter = sortByKeyInsideObj(kanjiData, currentOrder.kanjiField);\n    const secondaryFilter = this.secondaryKanjiFilter((currentLevel && currentLevel.value) || defaultLevel.value);\n    const filterFunc = filterFuncFromObj(kanjiData, kanjiField, secondaryFilter);\n    const kanjisToDisplay = Object.keys(kanjiData).filter(filterFunc).sort(customSorter).map(this.renderKanji);\n\n    return (\n      <Container\n        onClick={this.kanjiOnClick}\n        maxHeight={this.determineMaxHeight()}\n        columnSize={this.determineRowSize()}\n      >\n        {kanjisToDisplay}\n      </Container>\n    );\n  }\n}\n\nexport default KanjisContainer;\n","import { connect } from 'react-redux';\nimport KanjisContainer from './KanjisContainer';\nimport { addModal } from '../../actions';\n\nconst mapStateToProps = state => ({\n  currentGroup: state.kanjiSetting.group,\n  currentOrder: state.kanjiSetting.order,\n  currentLevel: state.kanjiSetting.level,\n  mastery: state.kanjiMastery.mastery,\n  notes: state.kanjiMastery.notes,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  addModal: (modalType, extraProps) => dispatch(addModal(modalType, extraProps)),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(KanjisContainer);\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { MASTERY_COLOR } from '../kanji-grid/Kanji';\nimport kanjiData from '../../data/starter_kanji_data.json';\nimport { getKanjiTotal } from '../../utils';\nimport { SEEN, MASTERED } from '../../constants';\n\nconst Container = styled.div`\n  width: calc(100% - 72px);\n  height: auto;\n  padding: 16px 10px;\n  margin: 10px 26px;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: row;\n  text-align: center;\n  font-size: 18px;\n  color: #ecaaaa; // TODO\n  border: 1px solid #ecaaaa;\n  justify-content: space-between;\n`;\n\nconst ContainerItem = styled.div`\n  flex: ${props => props.flexGrow};\n  display: flex;\n  justify-content: flex-end;\n`;\n\nconst StatBar = styled.div`\n  width: 20%;\n  height: 100%;\n  border-radius: 5px;\n  display: inline-block;\n  // HACK: TODO: Wtf is this LOL\n  background: ${props => props.color}61;\n  margin: 0 1px;\n  opacity: 0.55;\n`;\n\nconst StatBarInner = styled.div`\n  width: ${props => props.fillPtg}%;\n  height: 100%;\n  background: ${props => props.color};\n  border-radius: 5px;\n`;\n\nconst NUMBER_OF_BARS = 3;\n\n/*\n * NOTE: This component should be the one outputing the different kanji containers.\n */\nclass ChangeLevel extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  /**\n   * 100 /\n   */\n\n  renderMasteryBars = () => {\n    const { currentGroup, currentLevel, mastery } = this.props;\n    const { kanjiField } = currentGroup;\n    const currentLevelFieldValue = currentLevel.value;\n\n    const totalKanji = getKanjiTotal(kanjiData, kanjiField, currentLevelFieldValue);\n    let totalSeen = 0;\n    let totalMastered = 0;\n    for (const [key, value] of Object.entries(mastery)) {\n      // TODO: find a way to safely access\n      const kanjiFieldValue = kanjiData[key] && kanjiData[key][kanjiField];\n      if (kanjiFieldValue !== currentLevelFieldValue) continue;\n      if (value === SEEN) {\n        totalSeen += 1;\n      }\n\n      if (value === MASTERED) {\n        totalSeen += 1;\n        totalMastered += 1;\n      }\n    }\n\n    const totalSeenPtg = totalSeen / totalKanji * 100;\n    const totalMasteredPtg = totalMastered / totalKanji * 100;\n    const bars = [];\n    bars.push(this.renderBar(MASTERY_COLOR[SEEN], totalSeenPtg));\n    bars.push(this.renderBar(MASTERY_COLOR[MASTERED], totalMasteredPtg))\n    return bars;\n  }\n\n  renderBar = (color, barFillPtg = 100) => {\n    return (\n      <StatBar color={color}>\n        <StatBarInner\n          color={color}\n          fillPtg={barFillPtg}\n        />\n      </StatBar>\n    );\n  }\n\n  render() {\n    const { currentLevel } = this.props;\n    console.log();\n    return (\n      <React.Fragment>\n        <Container>\n          <ContainerItem\n          >\n            {currentLevel.label}\n          </ContainerItem>\n          <ContainerItem\n            flexGrow={2}\n          >\n            {this.renderMasteryBars()}\n          </ContainerItem>\n        </Container>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default ChangeLevel;\n","import { connect } from 'react-redux';\nimport CurrentStats from './CurrentStats';\n\nconst mapStateToProps = state => ({\n  currentGroup: state.kanjiSetting.group,\n  currentLevel: state.kanjiSetting.level,\n  mastery: state.kanjiMastery.mastery,\n});\n\nconst mapDispatchToProps = () => ({});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(CurrentStats);\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { CHOICES } from '../../constants';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n/**\n * Look at ゴーシャO and U, pretty cool font. Or Gosha OS\n */\nconst Container = styled.div`\n  width: calc(100% - 72px);\n  height: auto;\n  padding: 16px 10px;\n  margin: 10px 26px;\n  background: ${props => props.theme.base.kanjiContainerBackground};\n  border-radius: 10px;\n  display: flex;\n  flex-direction: row;\n  border: 1px solid ${props => props.theme.base.borderColor};\n  text-align: center;\n`;\n\nconst ContainerItem = styled.div`\n  order: ${props => props.flexOrder};\n  flex: ${props => props.flexGrow};\n`;\n\n/*\n * NOTE: This component should be the one outputing the different kanji containers.\n */\nclass ChangeLevel extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  onArrowClick = (left = true) => {\n    const { currentLevel, onKanjiLevelChange } = this.props;\n    const newLevelKey = left ? currentLevel.prev : currentLevel.next;\n    onKanjiLevelChange(CHOICES[newLevelKey]);\n  }\n\n  renderArrow = (left = true) => {\n    const symbol = left ? <FontAwesomeIcon icon=\"chevron-left\" /> : <FontAwesomeIcon icon=\"chevron-right\" />\n    return (\n      <ContainerItem\n        flexGrow={1}\n        onClick={() => this.onArrowClick(left)}\n      >\n        {symbol}\n      </ContainerItem>\n    );\n  }\n\n  render() {\n    const { currentLevel } = this.props;\n    const { prev, next } = currentLevel;\n    return (\n      <React.Fragment>\n        <Container>\n          {prev ? this.renderArrow() : null}\n          {next ? this.renderArrow(false) : null}\n        </Container>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default ChangeLevel;\n","import { connect } from 'react-redux';\nimport ChangeLevel from './ChangeLevel';\nimport { changeKanjiLevel } from '../../actions';\n\nconst mapStateToProps = state => ({\n  currentLevel: state.kanjiSetting.level,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onKanjiLevelChange: level => dispatch(changeKanjiLevel(level)),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(ChangeLevel);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { popModal } from '../../actions';\n\nconst ModalContainer = styled.div`\n  position: fixed;\n  width: 100%;\n  height: 100%;\n`;\n\nconst ModalBackground = styled.div`\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: ${props => props.theme.base.modalBackground};\n`;\n\nconst ModalContent = styled.div`\n  position: fixed;\n  background: ${props => props.theme.base.modalContentBackground};\n  width: 80%;\n  height: auto;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  border: 0;\n  border-radius: 5px;\n  box-shadow: 0 2px 6px 0 hsla(0, 0%, 0%, 0.2);\n`;\n\nexport const ModalContentContainer = styled.div`\n  padding: 18px;\n  font-size: 14px;\n`;\n\nexport const ModalContentRow = styled.div`\n  width: 100%;\n  height: 25px;\n\n  .settings-label {\n    float: left;\n  }\n\n  .settings-value {\n    float: right;\n    font-weight: 600;\n  }\n\n  .settings-description {\n    color: hsl(0, 0%, 45%);\n  }\n`;\n\n/*\n * TODO: move this to like a shared components folder, since this aint a feature\n * Modal becomes stackable, implement using store\n * Background click should always\n *\n * https://stackoverflow.com/questions/35623656/how-can-i-display-a-modal-dialog-in-redux-that-performs-asynchronous-actions\n */\nclass Modal extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  static propTypes = {\n    backgroundClick: PropTypes.func,\n  };\n\n  popModalOnEsc = event => event.keyCode === 27 && this.props.popModal();\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.popModalOnEsc);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.popModalOnEsc);\n  }\n\n  render() {\n    const { children, popModal } = this.props;\n    return (\n      <ModalContainer>\n        <ModalBackground onClick={popModal} />\n        <ModalContent>{children}</ModalContent>\n      </ModalContainer>\n    );\n  };\n}\n\nconst mapStateToProps = () => ({});\nconst mapDispatchToProps = dispatch => ({\n  popModal: () => dispatch(popModal()),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(Modal);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {\n  changeKanjiOrdering,\n  changeKanjiGrouping,\n  changeKanjiLevel,\n  addModal,\n  popModal,\n} from '../../actions';\nimport { KANJI_ORDERS, KANJI_GROUPS } from '../../constants';\nimport ModalBase, { ModalContentContainer, ModalContentRow } from './Modal';\nimport { MODAL_TYPES } from '../../constants';\n\nclass Settings extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  onChangeFactory = (lookup, optionCallback) => (event, value) => {\n    const key = event.target.value;\n    (lookup && optionCallback(lookup[key])) || optionCallback(value);\n    this.props.popModal();\n  }\n\n  renderKanjiOrdering = () => {\n    const { currentOrder, addModal, onKanjiOrderingChange } = this.props;\n    const changeKanjiOrdering = () => {\n      addModal(MODAL_TYPES.RADIO_OPTIONS, {\n        onChangeCallback: this.onChangeFactory(KANJI_ORDERS, onKanjiOrderingChange),\n        options: KANJI_ORDERS,\n      });\n    };\n    return this.renderOptionSettings('Order by', currentOrder.label, null, changeKanjiOrdering);\n  }\n\n  renderKanjiGrouping = () => {\n    const { currentGroup, addModal, onKanjiGroupingChange } = this.props;\n    const changeKanjiGrouping = () => {\n      addModal(MODAL_TYPES.RADIO_OPTIONS, {\n        onChangeCallback: this.onChangeFactory(KANJI_GROUPS, onKanjiGroupingChange),\n        options: KANJI_GROUPS,\n      });\n    };\n    return this.renderOptionSettings('Group by', currentGroup.label, currentGroup.description, changeKanjiGrouping);\n  }\n\n  renderKanjiLevel = () => {\n    const { currentLevel, currentGroup, addModal, onKanjiLevelChange } = this.props;\n    const currentLevelLabel = currentLevel ? currentLevel.label : currentGroup.defaultLevel.label;\n    const changeKanjiLevel = () => {\n      addModal(MODAL_TYPES.RADIO_OPTIONS, {\n        onChangeCallback: this.onChangeFactory(null, onKanjiLevelChange),\n        options: currentGroup.choices,\n      });\n    };\n    return this.renderOptionSettings('Level to display', currentLevelLabel, null, changeKanjiLevel);\n  }\n\n  renderTheming = () => {\n    return (\n      <ModalContentRow>\n        <div className='settings-label'>Theme</div>\n        <div className='settings-value'>🌚🌝</div>\n      </ModalContentRow>\n    );\n  }\n\n  renderOptionSettings = (title, value, description, onClick) => {\n    const descriptionRow = description ? <ModalContentRow>\n      <div className='settings-description'>{description}</div>\n    </ModalContentRow> : null;\n    return (\n      <React.Fragment>\n        <ModalContentRow>\n          <div className='settings-label'>{title}</div>\n          <div\n            className='settings-value'\n            onClick={onClick}\n          >{value}</div>\n        </ModalContentRow>\n        {descriptionRow}\n      </React.Fragment>\n\n    );\n  }\n\n  render() {\n    const { popModal } = this.props;\n    return (\n      <ModalBase>\n        <ModalContentContainer>\n          {this.renderKanjiOrdering()}\n          {this.renderKanjiGrouping()}\n          {this.renderKanjiLevel()}\n          {this.renderTheming()}\n          <ModalContentRow>\n            <div className='settings-value'>\n              <button onClick={popModal}>OK</button>\n            </div>\n          </ModalContentRow>\n        </ModalContentContainer>\n      </ModalBase>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  currentGroup: state.kanjiSetting.group,\n  currentOrder: state.kanjiSetting.order,\n  currentLevel: state.kanjiSetting.level,\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addModal: (modalType, extraProps) => dispatch(addModal(modalType, extraProps)),\n    popModal: () => dispatch(popModal()),\n    onKanjiGroupingChange: group => dispatch(changeKanjiGrouping(group)),\n    onKanjiOrderingChange: order => dispatch(changeKanjiOrdering(order)),\n    onKanjiLevelChange: level => dispatch(changeKanjiLevel(level)),\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(Settings);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport ModalBase, { ModalContentContainer, ModalContentRow } from './Modal';\nimport { popModal } from '../../actions';\n\nclass RadioOptions extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  static propTypes = {\n    options: PropTypes.oneOfType([\n      PropTypes.object,\n      PropTypes.array,\n    ]),\n    onChangeCallback: PropTypes.func,\n  };\n\n  renderOptions = (options, optionCallback) => {\n    const listElements = [];\n    for (const [key, value] of Object.entries(options)) {\n      const listElement = (\n        <ModalContentRow key={`modal-${key}`}>\n          <input\n            key={`input-${key}`}\n            type=\"radio\"\n            value={value.value || key}\n            onChange={event => optionCallback(event, value)}\n          />\n          <label htmlFor={`label-${key}`}>{value.label}</label>\n        </ModalContentRow>\n      );\n      listElements.push(listElement);\n    }\n    return <ModalContentContainer>{listElements}</ModalContentContainer>;\n  };\n\n  render() {\n    const { options, onChangeCallback } = this.props;\n    const optionComponents = this.renderOptions(options, onChangeCallback);\n    return (\n      <ModalBase>\n        {optionComponents}\n      </ModalBase>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  popModal: () => dispatch(popModal()),\n});\n\nconst mapStateToProps = () => ({});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(RadioOptions);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport ModalBase from './Modal';\nimport {\n  popModal,\n  tapSeen,\n  tapMastered,\n  saveNotes,\n} from '../../actions';\nimport debounce from 'lodash/debounce';\n\nexport const KanjiContentContainer = styled.div`\n  height: auto;\n  background: ${props => props.theme.base.kanjiContainerBackground};\n`;\n\nexport const KanjiRow = styled.div`\n  width: 100%;\n  height: auto;\n  text-align: center;\n`;\n\nexport const KanjiDisplay = styled.div`\n  padding: 36px 0;\n  font-size: 80px;\n  font-weight: bold;\n  margin: 0 auto;\n`;\n\nexport const KanjiOptionRow = styled.div`\n  width: calc(100% - 48px);\n  padding: 8px 24px;\n  display: flex;\n  text-align: center;\n`;\n\nexport const OptionRow = styled.div`\n  width: 100%;\n  height: 50px;\n  text-align: center;\n  font-size: 24px;\n  flex: 1;\n\n  .modalmoji {\n  }\n\n  .modal-value {\n    font-weight: 600;\n    padding-left: 24px;\n    color: hsl(0, 0%, 45%);\n  }\n`;\n\nexport const OptionContent = styled.div`\n  padding: 13px 0;\n`;\n\nexport const LabelContainer = styled.div`\n  width: calc(100% - 48px);\n  padding: 4px 24px;\n`;\n\nexport const Label = styled.span`\n  width: 100%;\n  height: 100%;\n  font-size: 16px;\n  font-weight: bold;\n`;\n\nexport const NotesContainer = styled.div`\n  width: calc(100% - 48px);\n  padding: 4px 24px 24px;\n`;\n\nexport const NotesTextArea = styled.textarea`\n  width: calc(100% - 24px);\n  height: 100%;\n  font-size: 18px;\n  padding: 12px;\n  border: 1px solid #2cb8e0; //${props => props.theme.base.borderColor};\n`;\n\nclass KanjiModal extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  static propTypes = {\n    kanji: PropTypes.string,\n    /* NOTE: this id is a number, but got casted of as a string */\n    id: PropTypes.string,\n    notes: PropTypes.string,\n\n    /* FUTURE PROPS */\n    seen: PropTypes.bool,\n    mastered: PropTypes.bool,\n    /* FUTURE PROPS */\n  };\n\n  state = {\n    notes: this.props.notes,\n    notesOpen: false,\n  };\n\n  /**\n   * Clicking the more info button replaces the OptionContents with more information\n   * 1) Fetch information\n   * 2) Displays them\n   *\n   * TODO: Need to display more information under kanji\n   * <button /> - IE6 problems, implicitly submits\n   */\n  tapAndExitModal = optionCallback => value => {\n    optionCallback(value);\n    this.props.popModal();\n  }\n\n  toggleTextArea = () => {\n    this.setState({\n      notesOpen: !this.state.notesOpen,\n    });\n  }\n\n  updateNotes = event => {\n    const notes = event.target.value;\n    this.setState({ notes });\n    this.updateNotesInternal(this.props.kanji, notes);\n  }\n\n  // TODO: rename\n  updateNotesInternal = debounce((kanjiId, notes) => {\n    this.props.saveNotes(kanjiId, notes);\n  }, 300);\n\n  renderSeen = () => {\n    const tapSeenAndExit = this.tapAndExitModal(this.props.tapSeen);\n    return (\n      <OptionRow>\n        <OptionContent>\n          <span\n            className='modalmoji'\n            onClick={() => tapSeenAndExit(this.props.kanji)}>\n            👀\n          </span>\n        </OptionContent>\n      </OptionRow>\n    );\n  }\n\n  renderMastered = () => {\n    const tapMasteredAndExit = this.tapAndExitModal(this.props.tapMastered);\n    return (\n      <OptionRow>\n        <OptionContent>\n          <span\n            className='modalmoji'\n            onClick={() => tapMasteredAndExit(this.props.kanji)}>\n            🤓\n          </span>\n        </OptionContent>\n      </OptionRow>\n    );\n  }\n\n  renderInfo = () => {\n    return (\n      <OptionRow>\n        <OptionContent>\n          <span className='modalmoji'>💁🏽‍♂️</span>\n        </OptionContent>\n      </OptionRow>\n    );\n  }\n\n  renderNotes = () => {\n    return (\n      <OptionRow>\n        <OptionContent>\n          <span\n            className='modalmoji'\n            onClick={this.toggleTextArea}>\n            ✏️\n          </span>\n        </OptionContent>\n      </OptionRow>\n    );\n  }\n\n  renderNotesTextArea = () => {\n    const { notes, notesOpen } = this.state;\n    if (!notesOpen) return null;\n\n    return (\n      <React.Fragment>\n        <LabelContainer>\n          <Label>\n            Notes\n          </Label>\n        </LabelContainer>\n        <NotesContainer>\n          <NotesTextArea\n            placeholder={'notes about this kanji?'}\n            value={notes}\n            onChange={event => this.updateNotes(event)}\n          >\n          </NotesTextArea>\n        </NotesContainer>\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <ModalBase>\n        <KanjiContentContainer>\n          <KanjiRow>\n            <KanjiDisplay>\n              {this.props.kanji}\n            </KanjiDisplay>\n          </KanjiRow>\n          <KanjiOptionRow>\n            {this.renderSeen()}\n            {this.renderMastered()}\n            {this.renderInfo()}\n            {this.renderNotes()}\n          </KanjiOptionRow>\n          {this.renderNotesTextArea()}\n        </KanjiContentContainer>\n      </ModalBase>\n    );\n  }\n}\n\nconst mapStateToProps = () => ({});\nconst mapDispatchToProps = dispatch => ({\n  tapSeen: kanji => dispatch(tapSeen(kanji)),\n  tapMastered: kanji => dispatch(tapMastered(kanji)),\n  saveNotes: (kanji, notes) => dispatch(saveNotes(kanji, notes)),\n  popModal: () => dispatch(popModal()),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(KanjiModal);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Settings from './Settings';\nimport RadioOptions from './RadioOptions';\nimport KanjiModal from './KanjiModal';\n\nconst MODAL_TYPES = {\n SETTINGS: Settings,\n RADIO_OPTIONS: RadioOptions,\n KANJI_MODAL: KanjiModal,\n};\n\nconst ModalRoot = ({ modalList }) => {\n  if (!modalList.length) return null;\n  const { modalType, extraProps } = modalList[modalList.length - 1];\n  const SpecificModal = MODAL_TYPES[modalType];\n  return <SpecificModal {...extraProps} />;\n};\n\nexport default connect(\n  state => state.modal,\n)(ModalRoot);\n","import React from 'react';\nimport styled from 'styled-components';\nimport NavContainer from './top-nav';\nimport KanjiContainer from './kanji-grid';\nimport CurrentStats from './current-stats';\nimport ChangeLevelContainer from './change-level';\nimport ModalRoot from './modals';\n// TODO: get rid of styled-theming\n\nconst Container = styled.div`\n  width: 100%;\n  height: 100%;\n  font-size: 24px;\n  font-weight: normal;\n  word-break: break-all;\n  -webkit-font-smoothing: antialiased;\n  line-height: 1.1;\n  color: ${props => props.theme.base.textFont};\n  background: ${props => props.theme.base.background};\n  // background: linear-gradient(${props => props.theme.base.gradientDark}, ${props => props.theme.base.gradientLight});\n  font-family: \"ヒラギノ角ゴ Pro W3\", \"Hiragino Kaku Gothic Pro\", Osaka, \"メイリオ\", Meiryo, \"ＭＳ Ｐゴシック\", \"MS PGothic\", sans-serif;\n\n\n  // 'Montserrat', 'Mplus 1p', 'Hiragino Sans', 'Hiragino Kaku Gothic Pro', '游ゴシック' , '游ゴシック体' , YuGothic , 'Yu Gothic', 'ＭＳ ゴシック' , 'MS Gothic', sans-serif;\n`;\n\n/*\n * NOTE: The only concern of this component is to assemble.\n */\nconst AppContainer = () => {\n  return (\n    <Container>\n      <NavContainer />\n      <CurrentStats />\n      <KanjiContainer />\n      <ChangeLevelContainer />\n      <ModalRoot />\n    </Container>\n  );\n}\n\nexport default AppContainer;\n","import { NO_MASTERY, SEEN, MASTERED } from '../constants';\n\nexport default {\n  base: {\n    textFont: '#3f4e62', // '#42454f',\n    background: '#fff',// '#dfe4ef',\n    inputBarBackground: '#f8f9fa',\n    masteryColor: {\n      [NO_MASTERY]: '',\n      [SEEN]: '',\n      [MASTERED]: '',\n    },\n    modalBackground: 'rgba(0, 0, 0, 0.6)',\n    modalContentBackground: '#f8faff',\n    kanjiContainerBackground: '#fff', // '#f8faff',\n    gradientDark: '#fff', // '#dfe4ef',\n    gradientLight: '#fff', // '#f8faff',\n    borderColor: '#e4e5e7',\n  },\n  dark: {\n    textFont: '',\n    backgroundColor: '',\n    inputBarBackground: '',\n    masteryColor: {\n      [NO_MASTERY]: '',\n      [SEEN]: '',\n      [MASTERED]: '',\n    },\n  },\n};\n","import {\n  TAP_SEEN,\n  TAP_MASTERED,\n  SAVE_NOTES,\n} from '../actions';\nimport StoreManager from './StoreManager';\nimport {\n  LOCAL_STORAGE_CACHE_KEY,\n  LOCAL_STORAGE_NOTES_KEY,\n} from '../constants';\n\nconst MASTERY_ACTIONS = [TAP_SEEN, TAP_MASTERED, SAVE_NOTES];\nconst LocalStorage = StoreManager(window && window.localStorage);\n\n/**\n * Very simple utility functions to get kanji mastery data.\n */\nconst updateMasteryData = (lastAction, kanjiMastery) => {\n  const { type } = lastAction;\n  if (!MASTERY_ACTIONS.includes(type)) return;\n  if (type === TAP_SEEN || type === TAP_MASTERED) {\n    LocalStorage.setItem(LOCAL_STORAGE_CACHE_KEY, JSON.stringify(kanjiMastery.mastery));\n  }\n\n  if (type === SAVE_NOTES) {\n    LocalStorage.setItem(LOCAL_STORAGE_NOTES_KEY, JSON.stringify(kanjiMastery.notes));\n  }\n};\n\nconst getFromLocalStorage = key => {\n  try {\n    const cachedData = LocalStorage.getItem(key);\n    const parsedData = JSON.parse(cachedData);\n    return parsedData;\n  } catch (error) {\n    return null;\n  }\n}\n\nconst getMasteryData = () => {\n  const cachedData = {\n    kanjiMastery: {\n      mastery: {},\n      notes: {},\n    },\n  };\n\n  const notesData = getFromLocalStorage(LOCAL_STORAGE_NOTES_KEY);\n  const masteryData = getFromLocalStorage(LOCAL_STORAGE_CACHE_KEY);\n  if (masteryData && Object.keys(masteryData).length) {\n    cachedData.kanjiMastery.mastery = masteryData;\n  }\n\n  if (notesData && Object.keys(notesData).length) {\n    cachedData.kanjiMastery.notes = notesData;\n  }\n\n  return cachedData;\n};\n\nexport default {\n  getMasteryData,\n  updateMasteryData,\n};\n","/* ISC License (ISC). Copyright 2017 Michal Zalecki */\nexport default function storageFactory(storage) {\n  function isSupported() {\n    try {\n      const testKey = \"__some_random_key_you_are_not_going_to_use__\";\n      storage.setItem(testKey, testKey);\n      storage.removeItem(testKey);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function clear() {\n    if (isSupported()) {\n      storage.clear();\n    }\n  }\n\n  function getItem(name) {\n    if (isSupported()) {\n      return storage.getItem(name);\n    }\n    return null;\n  }\n\n  function key(index) {\n    if (isSupported()) {\n      return storage.key(index);\n    }\n  }\n\n  function removeItem(name) {\n    if (isSupported()) {\n      storage.removeItem(name);\n    }\n  }\n\n  function setItem(name, value) {\n    if (isSupported()) {\n      storage.setItem(name, value);\n    }\n  }\n\n  return {\n    getItem,\n    setItem,\n    removeItem,\n    clear,\n    key,\n  };\n}\n","import React, { Component } from 'react';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport { ThemeProvider } from 'styled-components';\nimport mainReducer from './reducers';\nimport './css-reset.css';\nimport './index.css';\nimport AppContainer from './components';\nimport themes from './theme';\nimport KanjiMasteryManager from './utils/KanjiMasteryManager';\n\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faCog, faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons';\n\nlibrary.add(faCog, faChevronLeft, faChevronRight);\n\nconst store = createStore(mainReducer, KanjiMasteryManager.getMasteryData());\n// Persist state to localStorage, in the dispatch we can also make ajax call + redux thunk\nstore.subscribe(() => {\n  const { kanjiMastery, lastAction } = store.getState();\n  KanjiMasteryManager.updateMasteryData(lastAction, kanjiMastery);\n});\n\n/*\n * Identify all the things that is colored\n */\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <ThemeProvider theme={themes}>\n          <AppContainer />\n        </ThemeProvider>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}